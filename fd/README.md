# 技术栈

| 功能        | 框架           |
| ----------- | -------------- |
| 包管理器    | Bun            |
| UI 组件库   | shadcn/ui      |
| 前端框架    | React 19       |
| 路由        | React Router 7 |
| 状态管理    | Zustand        |
| HTTP 客户端 | Axios          |
| 构建工具    | Vite           |
| 编程语言    | TypeScript     |

# 页面

## 注册
## 登录
## 忘记密码
## 用户信息

左边侧边栏，右边详细信息  
侧边栏有个人信息、管理后台(有 * 权限才显示)，最下方是红色登出按钮  
个人信息的详细内容展示用户名、邮箱、密码、用户组  
用户名、邮箱、密码右边都有修改按钮，点击后展开各自修改框，提交修改后如果修改成功则收起修改框  

## 管理面板

### 布局

横向平分为【用户】、【组】、【权限】三列，每列高度固定为视口高度，内部独立滚动  

列表项：
- 用户栏：ID、用户名、邮箱
- 组栏：ID、名称
- 权限栏：ID、名称

每栏顶部固定展示【新建】按钮、带【清空】功能的搜索框、以及【字段排序/升降序】切换器  

每个元素右侧有两个图标按钮：编辑和删除  

选中项高亮;禁用项透明度降低（Opacity 50%），但保留所有交互能力  

### 交互

每栏只能选择一个元素  

多维交集过滤：  
- 选中用户，只显示此用户的组和权限;如果再选中某个组，只显示此组对应的权限;或者如果再选中某个权限，只显示包含此权限的组  
- 选中组，只显示此组对应的用户和权限  
- 选中权限，只显示此权限的组和用户;如果再选中某个组，只显示此组对应的用户;或者如果再选中某个用户，只显示包含此用户的组  
总结下就是：选中一个元素，就获取和选中元素关联的另两栏数据，和现有数据取交集来展示;筛选后无数据时，显示"空"  

底部悬浮按钮当前筛选的用户、组、权限;点击悬浮按钮取消某个筛选，也可以清空所有筛选  

### 编辑

结构：上下两个弹窗，上方弹窗编辑元素信息，下方弹窗编辑元素关联关系  
- 用户：上方编辑用户名、邮箱、密码;下方编辑【用户-组】关联
- 组：上方编辑组名称;下方编辑【组-用户】关联
- 权限：上方编辑权限名称、描述;下方编辑【权限-组】关联

关联关系编辑窗口：
- 标签页展示编辑和谁的关联关系，如用户可编辑与组的关联关系、组可编辑与用户或权限的关联关系、权限可编辑与组的关联关系  
- 左右分栏展示已关联(左侧)和未关联(右侧)的元素  
- 用户展示名称和邮箱、组展示名称、权限展示名称和描述信息  
- 左右分栏上方各有一个搜索框  
- 元素左侧有勾选框，支持多选元素
- 左右分栏上方有全选、取消选择按钮  
- 左右分栏中间有左右两个切换按钮，点击后将对应侧勾选的元素移动到对侧  
- 点击确定后统一更新关联关系  

# 页面跳转

1. 如果从其他页面跳转到登录注册页面，登录注册后跳转回原页面，否则跳转到用户信息页面
2. 根据状态中的 scope 是否有 * 来决定是否显示管理面板
3. 跳转到管理面板之前请求 /verify_access_token，检查返回值的 scope 中是否包含 *，包含 * 才能跳转到管理面板

# 开发

```bash
# 安装依赖
bun install

# 启动开发服务器
bun dev

# 构建生产版本
bun run build
```
