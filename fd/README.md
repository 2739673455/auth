# 技术栈

| 功能        | 框架           |
| ----------- | -------------- |
| 包管理器    | Bun            |
| UI 组件库   | shadcn/ui      |
| 前端框架    | React 19       |
| 路由        | React Router 7 |
| 状态管理    | Zustand        |
| HTTP 客户端 | Axios          |
| 构建工具    | Vite           |
| 编程语言    | TypeScript     |

# 页面

## 注册
## 登录
## 忘记密码
## 用户信息

左边侧边栏，右边详细信息  
侧边栏有个人信息、管理后台(有 * 权限才显示)，最下方是红色登出按钮  
个人信息的详细内容显示用户名、邮箱、密码、用户组  
用户名、邮箱、密码右边都有修改按钮，点击后展开各自修改框，提交修改后如果修改成功则收起修改框  

## 管理面板
### 整体布局

从左到右分三栏，分别是用户、组、权限  

- 用户栏展示ID、用户名、邮箱;可按ID(默认)、用户名、邮箱排序;可切换升序或倒序排序
- 组栏展示ID、名称;可按ID(默认)、名称排序;可切换升序或倒序排序
- 权限栏展示ID、名称;可按ID(默认)、名称排序;可切换升序或倒序排序

每栏最上方有新建元素按钮  

每栏上方有搜索框，搜索框有清空按钮  

每个元素右侧有两个图标按钮：编辑和删除  

淡色显示被禁用的元素  



### 交互

点击元素即选中此元素，每栏只能选择一个元素  

点击某个用户后，只显示该用户的组和权限;如果进一步点击了某个组，只显示该组对应的权限;或者如果进一步点击了某个权限，只显示包含该权限的组  
点击某个组后，只显示该组对应的用户和权限  
点击某个权限后，只显示该权限的组和用户;如果进一步点击了某个组，只显示该组对应的用户;或者如果进一步点击了某个用户，只显示包含该用户的组  
总结下就是：点击了什么，就获取和选中数据关联的另两栏数据，和现有数据取交集来展示;筛选后无数据时，显示"空"  

页面最下方悬浮显示当前筛选的用户、组、权限;可以点按来取消某个筛选，也可以清空所有筛选  

### 编辑

用户编辑中可管理组关联  
组编辑中可管理用户关联和权限关联  
权限编辑中可管理组关联  
被禁用的元素依旧可以编辑信息与关联关系  

编辑弹窗分上下两部分，上部分编辑元素信息，下部分编辑元素关联关系  

#### 编辑关联关系窗口

窗口上方以标签页方式显示当前在编辑的是和谁的关联关系，可以通过切换标签页来编辑不同的关联关系  
以左右分栏的方式展示已关联和未关联的元素，左边是已关联的，右边是未关联的  
用户元素展示名称和邮箱、组元素展示名称、权限元素展示名称和描述信息  
每个元素可点按来切换到已关联或未关联状态;点击后不马上更新关联关系，而是在点击确定后更新关联关系  

# 页面跳转

1. 如果从其他页面跳转到登录注册页面，登录注册后跳转回原页面，否则跳转到用户信息页面
2. 根据状态中的 scope 是否有 * 来决定是否显示管理面板
3. 跳转到管理面板之前请求 /verify_access_token，检查返回值的 scope 中是否包含 *，包含 * 才能跳转到管理面板

# 开发

```bash
# 安装依赖
bun install

# 启动开发服务器
bun dev

# 构建生产版本
bun run build
```
